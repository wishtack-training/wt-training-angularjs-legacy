
<div ng-switch="isViewReady">

    <div ng-switch-when="true">

        <form
                name="formUserEdit"
                ng-submit="user.save()">

            <input
                    ng-model="user.firstName"
                    placeholder="First name"
                    required
                    type="text">

            <input
                    ng-model="user.lastName"
                    placeholder="Last name"
                    required
                    type="text">

            <input
                    ng-model="user.email"
                    pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                    placeholder="Email"
                    required
                    type="email">

            <button
                    ng-disabled="!formUserEdit.$valid"
                    type="submit">Save</button>

        </form>

        <form
                name="formWishEdit"
                ng-init="defaultCurrency = 'EUR'; wish.price.currency = defaultCurrency"
                ng-show="user.id"
                ng-submit="addWish({user: user, wish: wish}); wish = {price: {currency: defaultCurrency}};">

            <input
                    ng-model="wish.title"
                    required
                    type="text">

            <input
                    ng-model="wish.price"
                    placeholder="amount"
                    step="any"
                    type="number"
                    wl-price-amount>

            <select ng-model="wish.price.currency">
                <option value="EUR">â‚¬</option>
                <option value="USD">$</option>
            </select>

            <button
                    ng-disabled="!formWishEdit.$valid"
                    type="submit">Add Wish</button>

        </form>


        <wl-wish-preview
                ng-repeat="wish in user.wishList | orderBy:'-creationDateTime' track by wish.id"
                wl-user="::user"
                wl-wish="::wish"></wl-wish-preview>

    </div>

    <div ng-switch-default>
        Loading...
    </div>

</div>
